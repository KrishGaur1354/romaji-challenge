@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Japanese-inspired light theme with sakura pink and traditional colors */
    --background: 35 50% 98%;
    --foreground: 220 20% 10%;
    
    --card: 0 0% 100%;
    --card-foreground: 220 20% 10%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 10%;
    
    --primary: 350 100% 75%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 35 30% 95%;
    --secondary-foreground: 220 20% 10%;
    
    --muted: 35 20% 95%;
    --muted-foreground: 220 10% 45%;
    
    /* Sakura pink accent */
    --accent: 350 100% 75%;
    --accent-foreground: 0 0% 100%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 220 15% 88%;
    --input: 220 15% 88%;
    --ring: 350 100% 75%;
    
    --radius: 1rem;
  }

  .dark {
    /* Japanese-inspired dark theme with indigo and sakura accents */
    --background: 240 20% 8%;
    --foreground: 35 50% 98%;
    
    --card: 240 15% 12%;
    --card-foreground: 35 50% 98%;
    
    --popover: 240 15% 12%;
    --popover-foreground: 35 50% 98%;
    
    --primary: 350 90% 70%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 240 10% 18%;
    --secondary-foreground: 35 50% 98%;
    
    --muted: 240 10% 18%;
    --muted-foreground: 220 10% 65%;
    
    /* Softer sakura pink for dark mode */
    --accent: 350 90% 70%;
    --accent-foreground: 0 0% 100%;
    
    --destructive: 0 62.8% 50%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 240 15% 20%;
    --input: 240 15% 20%;
    --ring: 350 90% 70%;
  }
}

@layer base {
  * {
    @apply border-border;
    /* Better touch handling on mobile */
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }
  
  html {
    /* Prevent zoom on mobile when focusing inputs */
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    /* Smooth scrolling */
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "ss01" on, "ss02" on, "cv01" on, "cv02" on, "cv03" on;
    /* Better font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent horizontal scrolling */
    overflow-x: hidden;
    /* Handle safe areas on mobile */
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  /* Improve input handling on mobile */
  input, textarea, select {
    /* Prevent zoom on focus in iOS */
    font-size: 16px;
    /* Better touch targets */
    min-height: 44px;
  }
  
  /* Better button touch targets on mobile */
  button {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Improve canvas touch handling */
  canvas {
    touch-action: none;
  }
  
  /* Handle landscape orientation */
  @media screen and (orientation: landscape) and (max-height: 500px) {
    .mobile-landscape-adjust {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }
  }
}

/* Custom animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

@keyframes wave {
  0%, 100% {
    transform: translateX(0) translateY(0);
  }
  50% {
    transform: translateX(-25%) translateY(-10px);
  }
}

.animate-wave {
  animation: wave 10s ease-in-out infinite;
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.animate-shimmer {
  animation: shimmer 3s infinite;
  background: linear-gradient(to right, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
  background-size: 1000px 100%;
}

/* Japanese calligraphy brush stroke effect */
@keyframes brush-stroke {
  0% {
    stroke-dashoffset: 1000;
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 1;
  }
}

.brush-stroke {
  animation: brush-stroke 2s ease-out forwards;
}

/* Elegant fade in with scale - Anthropic style */
@keyframes elegant-fade-in {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-elegant-fade-in {
  animation: elegant-fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Gradient rotation for backgrounds */
@keyframes gradient-rotate {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient-rotate {
  background-size: 200% 200%;
  animation: gradient-rotate 15s ease infinite;
}

/* Pulse glow effect */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(255, 135, 178, 0.3);
  }
  50% {
    box-shadow: 0 0 40px rgba(255, 135, 178, 0.6);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

/* Smooth bounce */
@keyframes smooth-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.animate-smooth-bounce {
  animation: smooth-bounce 2s ease-in-out infinite;
}

/* Fade slide up */
@keyframes fade-slide-up {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-slide-up {
  animation: fade-slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Gentle scale pulse */
@keyframes gentle-scale {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.animate-gentle-scale {
  animation: gentle-scale 4s ease-in-out infinite;
}

/* Mobile-specific utility classes */
@layer utilities {
  .touch-manipulation {
    touch-action: manipulation;
  }
  
  .prevent-zoom {
    touch-action: manipulation;
    user-select: none;
  }
  
  .safe-area-padding {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* Better mobile text scaling */
  .mobile-text-base {
    font-size: clamp(0.875rem, 4vw, 1rem);
  }
  
  .mobile-text-lg {
    font-size: clamp(1rem, 5vw, 1.125rem);
  }
  
  .mobile-text-xl {
    font-size: clamp(1.125rem, 6vw, 1.25rem);
  }
  
  .mobile-text-2xl {
    font-size: clamp(1.25rem, 7vw, 1.5rem);
  }
  
  /* Mobile-optimized spacing */
  .mobile-p-safe {
    padding: max(1rem, env(safe-area-inset-top)) max(1rem, env(safe-area-inset-right)) max(1rem, env(safe-area-inset-bottom)) max(1rem, env(safe-area-inset-left));
  }
}

/* PWA specific styles */
@media all and (display-mode: standalone) {
  /* Styles when app is installed as PWA */
  body {
    user-select: none;
  }
  
  /* Hide address bar space */
  .pwa-header-padding {
    padding-top: env(safe-area-inset-top);
  }
}
